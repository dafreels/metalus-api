<span class="user-menu">
  <button mat-icon-button [matMenuTriggerFor]="userMenu" aria-label="Navigation" class="nav-button">
    <span *ngIf="user">{{user.displayName || user.username}}</span>
    <span *ngIf="!user">Signin</span>
    <mat-icon color="primary">expand_more</mat-icon>
  </button>
  <mat-menu #userMenu="matMenu">
    <button mat-menu-item *ngIf="user">
      <div>
        <mat-icon color="primary">account_circle</mat-icon>
        <span class="spacer"><a [routerLink]="['/profile']" routerLinkActive="active">Profile</a></span>
      </div>
    </button>
    <button mat-menu-item *ngIf="user && user.role.toString() === 'admin'">
      <div>
        <mat-icon color="primary">group</mat-icon>
        <span class="spacer"><a [routerLink]="['/users']" routerLinkActive="active">Users</a></span>
      </div>
    </button>
    <button mat-menu-item *ngIf="user">
      <div>
        <mat-icon color="primary">power_off</mat-icon>
        <span class="spacer"><a [routerLink]="['/']" (click)="logout()" routerLinkActive="active">Logout</a></span>
      </div>
    </button>
  </mat-menu>
</span>
